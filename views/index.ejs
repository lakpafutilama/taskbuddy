<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TB</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <body
    class="bg-image"
    style="
      background-image: url('https://images.squarespace-cdn.com/content/v1/6160742e58596279bef906ba/1652183962472-LM1WN5GVWUEP0TBAAINC/0_VxCR_2R9v9RoeRFv.jpeg');
      height: 100vh;
    "
  >

    <!-- login -->
    <div
      class="modal fade"
      id="login"
      tabindex="-1"
      role="dialog"
      aria-labelledby="loginTitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-success" id="exampleModalLongTitle" style="font-weight: bold;">
              LOGIN
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form class="login-validation" novalidate>            
            <div class="mb-3 row">
              <div class="form-floating">
                <input
                  type="text"
                  id="username"
                  class="form-control"
                  placeholder="Username"
                  required
                />
                <label for="username" style="padding-left: 25px">
                  <i class="fa fa-user"></i> Username</label
                >
              </div>
            </div>
            <div class="mb-3 row" style="margin-bottom: 5%">
              <div class="form-floating">
                <input
                  type="password"
                  id="lpassword"
                  class="form-control"
                  placeholder="Password"
                  required
                />
                <label for="password" style="padding-left: 25px"
                  ><i class="fa fa-lock"></i> Password</label
                >
              </div>
            </div>
            <a
              class="d-flex justify-content-end"
              style="text-decoration: underline"
            >
              Forget Password
            </a>
            <div
              class="d-flex justify-content-center"
              style="padding-bottom: 25px"
            >
              <button class="btn btn-success" id="loginBtn">Login</button>
            </div>
            </form>
            <div class="modal-footer">
              <button
                class="col form-control text-primary"
                style="border-radius: 25px"
              >
                <i class="fa-brands fa-google" style="align-items: center"></i>
                Login with Google
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- signup -->
    <div
      class="modal fade"
      id="signup"
      tabindex="-1"
      role="dialog"
      aria-labelledby="signupTitle"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-success" id="exampleModalLongTitle" style="font-weight: bold;">
              SIGNUP
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form class="needs-validation" novalidate oninput="p2.setCustomValidity(p2.value != p1.value ? 'Passwords do not match.' : '')">            
            <div class="mb-3 row">
              
              <div class="form-floating col">
                <input
                  type="text"
                  id="firstName"
                  class="form-control"
                  placeholder=""
                  required
                />
                <label for="firstName" style="padding-left: 25px">
                  First Name</label
                >
                <div class="invalid-feedback">Please provide your first name</div>
              </div>
              <div class="form-floating col">
                <input
                  type="text"
                  id="lastName"
                  class="form-control"
                  placeholder="Last Name"
                  required
                />
                <label for="lastName" style="padding-left: 25px">
                  Last Name</label
                >
              </div>
              <div class="invalid-feedback">Please provide your last name</div>
            </div>
            <div class="mb-3 row">
              <div class="form-floating">
                <input
                  type="text"
                  id="email"
                  class="form-control"
                  placeholder="Email"
                  required
                />
                <label for="email" style="padding-left: 25px"> Email</label>
              </div>
              <div class="invalid-feedback">Please provide your email</div>
            </div>
            <div class="mb-3 row" style="margin-bottom: 5%">
              <div class="form-floating col">
                <input
                  type="password"
                  id="spassword"
                  name="p1"
                  class="form-control"
                  placeholder="Password"
                  required
                  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                />
                <label for="password" style="padding-left: 25px">
                  Password</label
                >
                <div class="invalid-feedback">Choose secure password</div>
              </div>
              <div class="form-floating col">
                <input
                  type="password"
                  id="password2"
                  name="p2"
                  class="form-control"
                  placeholder="Password"
                  required
                  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$"
                />
                <label for="password" style="padding-left: 25px">
                  Confirm Password</label
                >
                <div class="invalid-feedback">Mismatched Password</div>
              </div>
            </div>
            <div
              class="d-flex justify-content-center"
              style="padding-bottom: 25px"
            >
              <button class="btn btn-success" type="submit" id="signupBtn">Sign Up</button>
            </div>
          </form>
            <div class="modal-footer">
              <button
                class="col form-control text-primary"
                style="border-radius: 25px"
              >
                <i class="fa-brands fa-google" style="align-items: center"></i>
                Sign Up with Google
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <header>
      <nav class="navbar navbar-expand navbar-light bg-dark">
        <a
          href="#"
          class="navbar-brand text-danger"
          style="padding-left: 25px; padding-right: 25px; size: 0cap"
          >TASK BUDDY</a
        >
          <div class="navbar-nav ms-auto" style="padding-right: 25px">
            <button
              class="btn btn-outline-success my-2 my-sm-0"
              data-toggle="modal"
              data-target="#login"
            >
              Login
            </button>
            <div style="padding-right: 10px"></div>
            <button
              class="btn btn-outline-success my-2 my-sm-0"
              data-toggle="modal"
              data-target="#signup"
            >
              SignUp
            </button>
          </div>
        </div>
      </nav>
    </header>
    <div class="container-fluid row">
        <div class="col-md-4">
            <img src="logo2.png" height="475px" alt="" />
        </div>
            <p class="container-fluid" style="color: white; margin-left: 10px; width: 400px; height: 30px; padding-top: 250px; opacity: 1;"> Task Buddy is a platform designed to help individuals organize, track, 
                and prioritize tasks and activities. These tool aims to improve productivity, collaboration, and time management by providing a
                structured way to manage work-related tasks and projects. Here are some key features and concepts associated with task 
                management tools
            </p>
    </div>
    <!-- for signup -->
    <script>
      (function () {
        "use strict";
        const signupBtn = document.getElementById('signupBtn');
      
        signupBtn.addEventListener('click', function (event) {
          event.preventDefault();
          event.stopPropagation();
      
          const form = signupBtn.closest('.needs-validation');
      
          if (form.checkValidity()) {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('spassword').value;
      
            axios.post("http://localhost:8080/user", {
              name: `${firstName} ${lastName}`,
              username: `${firstName}.${lastName}`,
              email,
              password
            })
            .then(function (response) {
              window.location("./home.html")
            })
            .catch(function (error) {
              alert(JSON.stringify(error));
            });
          } else {
            form.classList.add('was-validated');
          }
        });
      })();
      </script>

      <!-- for login -->
    <script>
      (function () {
        "use strict";
        const loginBtn = document.getElementById('loginBtn');
      
        loginBtn.addEventListener('click', function (event) {
          event.preventDefault();
          event.stopPropagation();
      
          const form = loginBtn.closest('.login-validation');
      
          if (form.checkValidity()) {
            const username = document.getElementById('username').value;
            const password = document.getElementById('lpassword').value;
            axios.get("http://localhost:8080/user", {
              name: username,
              password
            })
            .then(function (response) {
              alert("Login successfull");
              // window.location()
            })
            .catch(function (error) {
              alert(error);
            });
          } else {
            form.classList.add('was-validated');
          }
        });
      })();
      </script>
      
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://kit.fontawesome.com/2c08b9d654.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
